(venv) Rl-nameblur>  python main.py
[CaptureThread] Démarré @ 120 fps cible
[DetectThread] Démarré
✅ Caméra virtuelle prête → OBS Virtual Camera
📸 En cours... (Ctrl+C pour arrêter)
[SendThread] Démarré
⚡ 32.7 FPS | 1 masque(s) | skip 0% | PROD
⚡ 36.2 FPS | 4 masque(s) | skip 0% | PROD
⚡ 38.0 FPS | 5 masque(s) | skip 0% | PROD
⚡ 29.0 FPS | 7 masque(s) | skip 0% | PROD
⚡ 44.5 FPS | 2 masque(s) | skip 0% | PROD
⚡ 57.3 FPS | 2 masque(s) | skip 0% | PROD
⚡ 50.9 FPS | 5 masque(s) | skip 0% | PROD
⚡ 35.8 FPS | 2 masque(s) | skip 0% | PROD
⚡ 64.0 FPS | 7 masque(s) | skip 0% | PROD
⚡ 32.4 FPS | 9 masque(s) | skip 0% | PROD
⚡ 29.6 FPS | 5 masque(s) | skip 0% | PROD
⚡ 39.4 FPS | 4 masque(s) | skip 0% | PROD
⚡ 41.7 FPS | 2 masque(s) | skip 0% | PROD
⚡ 33.6 FPS | 7 masque(s) | skip 0% | PROD
⚡ 27.3 FPS | 4 masque(s) | skip 0% | PROD
⚡ 31.0 FPS | 2 masque(s) | skip 0% | PROD
⚡ 48.0 FPS | 7 masque(s) | skip 0% | PROD
⚡ 37.5 FPS | 5 masque(s) | skip 0% | PROD
⚡ 33.8 FPS | 3 masque(s) | skip 0% | PROD

🛑 Arrêt propre

=======================================================
        BENCHMARK PIPELINE v6.0 (capture threadée)
=======================================================

  📷 CAPTURE (thread @ 120fps cible)
    grab_avg_ms            : 21.02
    grab_count             : 1315
    none_count             : 0

  🔍 DETECT (thread)
    detect_avg_ms          : 57.79
    detect_count           : 664
    detect_total_ms        : 38373.64

  🌀 BLUR + CVT (fusionnés)
    blur_avg_ms            : 16.19
    cvt_avg_ms             : 5.52
    total_avg_ms           : 21.88
    total_calls            : 1522
    zones_blurred          : 5207

  📤 SEND (thread, vcam @ 120fps déclaré)
    send_avg_ms            : 11.6
    send_count             : 1495
    send_total_ms          : 17346.99

  🎬 MAIN LOOP
    loop_avg_ms            : 25.59
    total_frames           : 1521
    mask_peak              : 10
    ttl_max                : 10
    margin_px              : 1
    skip                   : 1
    iou_thresh             : 0.15
    debug_draw             : False

  📉 GAIN vs v5.1
    v5.1 loop_avg          : 32.66 ms (30.6 FPS)
    v6.0 loop_avg          : 25.59 ms (39.1 FPS)
    économisé              : 7.07 ms/frame
    accélération           : x1.28
    dist_thresh            : 60
=======================================================
[SendThread] Arrêté
[DetectThread] Arrêté
Screen Capture FPS: 33
[CaptureThread] Arrêté
(venv) Rl-nameblur>  python main.py
[CaptureThread] Démarré @ 120 fps cible
[DetectThread] Démarré
✅ Caméra virtuelle prête → OBS Virtual Camera
🎨 MODE DEBUG VISUEL ACTIVÉ
   🟩 Vert   = détection fraîche (TTL 3-4)
   🟨 Jaune  = masque persisté   (TTL 2)
   🟥 Rouge  = masque mourant    (TTL 1)
📸 En cours... (Ctrl+C pour arrêter)
[SendThread] Démarré
⚡ 51.0 FPS | 10 masque(s) | skip 0% | DEBUG
⚡ 49.5 FPS | 3 masque(s) | skip 0% | DEBUG
⚡ 51.2 FPS | 2 masque(s) | skip 0% | DEBUG
⚡ 51.2 FPS | 4 masque(s) | skip 0% | DEBUG
⚡ 47.1 FPS | 5 masque(s) | skip 0% | DEBUG
⚡ 50.4 FPS | 9 masque(s) | skip 0% | DEBUG
⚡ 48.4 FPS | 10 masque(s) | skip 0% | DEBUG
⚡ 50.5 FPS | 9 masque(s) | skip 0% | DEBUG
⚡ 54.9 FPS | 3 masque(s) | skip 0% | DEBUG
⚡ 51.0 FPS | 3 masque(s) | skip 0% | DEBUG
⚡ 50.0 FPS | 10 masque(s) | skip 0% | DEBUG
⚡ 50.9 FPS | 8 masque(s) | skip 0% | DEBUG
⚡ 51.8 FPS | 6 masque(s) | skip 0% | DEBUG
⚡ 55.9 FPS | 6 masque(s) | skip 0% | DEBUG
⚡ 54.0 FPS | 5 masque(s) | skip 0% | DEBUG
⚡ 50.8 FPS | 8 masque(s) | skip 0% | DEBUG
⚡ 50.1 FPS | 9 masque(s) | skip 0% | DEBUG
⚡ 55.7 FPS | 4 masque(s) | skip 0% | DEBUG

🛑 Arrêt propre

=======================================================
        BENCHMARK PIPELINE v6.0 (capture threadée)
=======================================================

  📷 CAPTURE (thread @ 120fps cible)
    grab_avg_ms            : 30.11
    grab_count             : 908
    none_count             : 0

  🔍 DETECT (thread)
    detect_avg_ms          : 99.89
    detect_count           : 375
    detect_total_ms        : 37456.95

  🌀 BLUR + CVT (fusionnés)
    blur_avg_ms            : 0.0
    cvt_avg_ms             : 0.0
    total_avg_ms           : 0.0
    total_calls            : 0
    zones_blurred          : 0

  📤 SEND (thread, vcam @ 120fps déclaré)
    send_avg_ms            : 12.07
    send_count             : 1917
    send_total_ms          : 23139.69

  🎬 MAIN LOOP
    loop_avg_ms            : 19.37
    total_frames           : 1943
    mask_peak              : 10
    ttl_max                : 10
    margin_px              : 1
    skip                   : 1
    iou_thresh             : 0.15
    debug_draw             : True

  📉 GAIN vs v5.1
    v5.1 loop_avg          : 32.66 ms (30.6 FPS)
    v6.0 loop_avg          : 19.37 ms (51.6 FPS)
    économisé              : 13.29 ms/frame
    accélération           : x1.69
    dist_thresh            : 60
=======================================================
[SendThread] Arrêté
[DetectThread] Arrêté
Screen Capture FPS: 24
[CaptureThread] Arrêté
(venv) Rl-nameblur>