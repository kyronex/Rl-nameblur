(venv) Rl-nameblur>  python main.py
[CaptureThread] Démarré @ 120 fps cible
[DetectThread] Démarré
✅ Caméra virtuelle prête → OBS Virtual Camera
📸 En cours... (Ctrl+C pour arrêter)
[SendThread] Démarré
⚡ 54.9 FPS | 3 masque(s) | PROD
⚡ 50.9 FPS | 3 masque(s) | PROD
⚡ 49.2 FPS | 6 masque(s) | PROD
⚡ 44.0 FPS | 6 masque(s) | PROD
⚡ 44.4 FPS | 4 masque(s) | PROD
⚡ 52.4 FPS | 4 masque(s) | PROD
⚡ 48.3 FPS | 4 masque(s) | PROD
⚡ 46.2 FPS | 6 masque(s) | PROD
⚡ 38.9 FPS | 3 masque(s) | PROD
⚡ 43.4 FPS | 5 masque(s) | PROD
⚡ 46.0 FPS | 3 masque(s) | PROD
⚡ 43.3 FPS | 6 masque(s) | PROD
⚡ 44.7 FPS | 8 masque(s) | PROD
⚡ 43.5 FPS | 5 masque(s) | PROD
⚡ 43.9 FPS | 8 masque(s) | PROD
⚡ 45.1 FPS | 4 masque(s) | PROD
⚡ 47.2 FPS | 5 masque(s) | PROD
⚡ 47.4 FPS | 5 masque(s) | PROD
⚡ 52.4 FPS | 2 masque(s) | PROD
⚡ 48.7 FPS | 7 masque(s) | PROD
⚡ 52.8 FPS | 7 masque(s) | PROD
⚡ 52.3 FPS | 5 masque(s) | PROD
⚡ 56.5 FPS | 0 masque(s) | PROD
⚡ 59.2 FPS | 6 masque(s) | PROD
⚡ 50.2 FPS | 6 masque(s) | PROD
⚡ 49.6 FPS | 5 masque(s) | PROD
⚡ 49.5 FPS | 3 masque(s) | PROD
⚡ 49.7 FPS | 4 masque(s) | PROD
⚡ 50.9 FPS | 5 masque(s) | PROD
⚡ 47.7 FPS | 3 masque(s) | PROD
⚡ 57.5 FPS | 4 masque(s) | PROD

🛑 Arrêt propre

=======================================================
        BENCHMARK PIPELINE v6.0 (capture threadée)
=======================================================

  📷 CAPTURE (thread @ 120fps cible)
    grab_avg_ms            : 28.42
    grab_count             : 1547
    none_count             : 0

  🔍 DETECT (thread)
    detect_avg_ms          : 101.64
    detect_count           : 623
    detect_total_ms        : 63320.51

  🌀 BLUR + CVT (fusionnés)
    blur_avg_ms            : 2.72
    total_avg_ms           : 2.84
    total_calls            : 3128
    zones_blurred          : 12906
    blur_mode              : pixelate

  📤 SEND (thread, vcam @ 120fps déclaré)
    send_avg_ms            : 12.53
    send_count             : 3114
    send_total_ms          : 39012.36
    publish_avg_ms         : 0.01
    publish_count          : 3128

  🎬 MAIN LOOP
    loop_avg_ms            : 20.35
    total_frames           : 3128
    mask_peak              : 8
    ttl_max                : 4
    margin_px              : 0
    iou_thresh             : 0.15
    debug_draw             : False

  📉 GAIN vs v5.1
    v5.1 loop_avg          : 32.66 ms (30.6 FPS)
    v6.0 loop_avg          : 20.35 ms (49.1 FPS)
    économisé              : 12.31 ms/frame
    accélération           : x1.6
    dist_thresh            : 60
=======================================================
[SendThread] Arrêté
[DetectThread] Arrêté
Screen Capture FPS: 24
[CaptureThread] Arrêté
(venv) Rl-nameblur>  python main.py
[CaptureThread] Démarré @ 120 fps cible
[DetectThread] Démarré
✅ Caméra virtuelle prête → OBS Virtual Camera
🎨 MODE DEBUG VISUEL ACTIVÉ
   🟩 Vert   = détection fraîche (TTL 3+)
   🟨 Jaune  = masque persisté   (TTL 2)
   🟥 Rouge  = masque mourant    (TTL 1)
📸 En cours... (Ctrl+C pour arrêter)
[SendThread] Démarré
⚡ 49.7 FPS | 4 masque(s) | DEBUG
⚡ 49.6 FPS | 4 masque(s) | DEBUG
⚡ 53.7 FPS | 3 masque(s) | DEBUG
⚡ 51.9 FPS | 1 masque(s) | DEBUG
⚡ 54.9 FPS | 2 masque(s) | DEBUG
⚡ 53.5 FPS | 8 masque(s) | DEBUG
⚡ 51.4 FPS | 3 masque(s) | DEBUG
⚡ 53.4 FPS | 3 masque(s) | DEBUG
⚡ 53.5 FPS | 4 masque(s) | DEBUG
⚡ 50.9 FPS | 3 masque(s) | DEBUG
⚡ 52.3 FPS | 8 masque(s) | DEBUG
⚡ 49.1 FPS | 1 masque(s) | DEBUG
⚡ 52.2 FPS | 0 masque(s) | DEBUG
⚡ 53.3 FPS | 6 masque(s) | DEBUG
⚡ 54.6 FPS | 3 masque(s) | DEBUG
⚡ 51.1 FPS | 5 masque(s) | DEBUG
⚡ 53.2 FPS | 7 masque(s) | DEBUG

🛑 Arrêt propre

=======================================================
        BENCHMARK PIPELINE v6.0 (capture threadée)
=======================================================

  📷 CAPTURE (thread @ 120fps cible)
    grab_avg_ms            : 25.83
    grab_count             : 962
    none_count             : 0

  🔍 DETECT (thread)
    detect_avg_ms          : 87.55
    detect_count           : 407
    detect_total_ms        : 35630.86

  🌀 BLUR + CVT (fusionnés)
    blur_avg_ms            : 0.0
    total_avg_ms           : 0.0
    total_calls            : 0
    zones_blurred          : 0
    blur_mode              : pixelate

  📤 SEND (thread, vcam @ 120fps déclaré)
    send_avg_ms            : 11.89
    send_count             : 1880
    send_total_ms          : 22352.03
    publish_avg_ms         : 0.01
    publish_count          : 1883

  🎬 MAIN LOOP
    loop_avg_ms            : 19.01
    total_frames           : 1883
    mask_peak              : 8
    ttl_max                : 4
    margin_px              : 0
    iou_thresh             : 0.15
    debug_draw             : True

  📉 GAIN vs v5.1
    v5.1 loop_avg          : 32.66 ms (30.6 FPS)
    v6.0 loop_avg          : 19.01 ms (52.6 FPS)
    économisé              : 13.65 ms/frame
    accélération           : x1.72
    dist_thresh            : 60
=======================================================
[SendThread] Arrêté
[DetectThread] Arrêté
Screen Capture FPS: 26
[CaptureThread] Arrêté
(venv) Rl-nameblur>